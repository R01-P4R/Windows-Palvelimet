# 2. Virtuaalikoneiden malli ja palvelinkoneiden alustus


## Tehtävänanto

1. Luodaan uusi virtuaalikone
2. Asennetaan Windows-käyttöjärjestelmä siihen


## Hyper-V ja uuden virtuaalikoneen luominen

Aloitin käynnistämällä microsoft azure-virtuaaliympäristön ja avaamlla hyper-v ohjelman siirryin luomaan uutta virtuaalikonetta, mikä tulee toimimaan myös mallina muille tuleville virtuaalikoneille ympäristössä. Annoin koneelle ohjeiden mukaisesti "WindowsServerTemplate". Valitsin virtuaalikoneen generaatioksi "generation 1", sillä siinä on tarvittavat ominaisuudet kurssia varten.
Muistia virtuaalikoneelle annoin 3072 MB ja laitoin dynaamisen muistin allokoinnin päälle, mikä parantaa muistin käyttämällä sitä vain tarpeiden mukaisesti. Verkkoyhteyden adapteriksi valitsin aikaisemmassa harjoituksessa luodun "HyperVVSwitch".

Seuraavaksi loin virtuaalikoneelle uuden kovalevyn ja annoin sen nimeksi "WindowsServerTemplate.vhdx" ja sen muistin määräksi 30 GB. Seuraaavksi pääsin valitsemaan miten haluan asentaa virtuaalikoneen käyttöjärjestelmän ja valitsin ISO-tiedoston, joka löytyi valmiina työpöydältä. Lopuksi vielä muutin virtuaalikoneen prosessorien määrän neljään hyper-v managerin kautta.


<br>
<br>


<img width= "750" height="469" alt="image" src="https://github.com/user-attachments/assets/649cca7d-f549-4d03-abaf-f4aa794ec01f" />

  > Uusi luotu virtuaalikone Hyper-V managerissa.


<br>
<br>


## Windowsin asentaminen virtuaalikoneelle

Aloitin valitsemalla luodon virtuaalikoneen Hyper-V managerissa ja valitsemalla "connect". Yhdistettyä koneeseen painoin "start" käynnistääkseni koneen ja muokkasin virtuaalikoneen ikkunan zoomasetusta vastaamaan: "100 %", jotta työskentely olisi jatkossa helpompaa. Windows asennusohjelman alkuvaiheessa valitsin seuraavat asetukset:

    Language install: English (United States)
    Time and currency format: finnish (Finland)
    Keyboard or input method: Finnish

Seuraavassa ruudussa valitsin "Install now", jonka jälkeen piti hyväksyä windowsin lisenssiehdot, minkä jälkeen valitsin "Custom: Install Windows only (advanced)". Käytin asennusohjelman ehdottamaa tallennustilaa, minkä jälkeen Windows rupesi asentamaan itseään. Asennuksessa meni noin 11 minuuttia, minkä jälkeen virtuaalikone käynnistyi uudestaan. Uudelleen käynnistyksen aikana, poistin aikaisemmin käyttämäni ISO-tiedoston virtuaalikoneen levyasemasta, jotta Windowsin asennusprosessi ei alkaisi uudestaan alkupisteestä. 

Koneen käynnistettyä loin Admin-käyttäjä profiilin ja kirjauduin koneen työpöydälle käyttäenm luomiani tunnuksia ja Windowsin Server Manager-ohjelma avautui työpöydälle.

